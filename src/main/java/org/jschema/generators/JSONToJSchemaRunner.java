package org.jschema.generators;

import com.sun.org.apache.xpath.internal.operations.Bool;

import javax.script.Invocable;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import java.io.FileReader;

public class JSONToJSchemaRunner
{
  public static void main( String[] args ) throws Exception {
    // Objects
    test("{ \"name\" : \"Joe\", \"age\" : 42 }",  "{ \"name\" : \"@string\", \"age\" : \"@int\" }", false);
    test("{\"string\":\"String\",\"int\":20,\"boolean\":true,\"date\":\"2016-02-25\",\"uri\":\"http://google.com\"}",
            "{\"string\":\"@string\",\"int\":\"@int\",\"boolean\":\"@boolean\",\"date\":\"@date\",\"uri\":\"@uri\"}", false);

    // Arrays
    test("[\"red\", \"orange\", \"yellow\"]", "[\"@string\"]", false);
    test("[\"red\", 5]", "[\"*\"]", false);

    // Arrays of objects
    test("[{\"a\": \"hello\"}, {\"b\": 5}]", "[{\"a\": \"@string\", \"b\": \"@int\"}]", false);
    test("[{\"a\": \"hello\"}, {\"a\": 5}]", "[{\"a\": \"*\"}]", false);
    test("[ { \"name\" : \"Joe\", \"age\" : 42 }, { \"name\" : \"Paul\", \"age\" : 28 }, { \"name\" : \"Mack\", \"age\" : 55 } ]",
            "[ { \"name\" : \"@string\", \"age\" : \"@int\"} ]", false);

    // Enums
    test("[ { \"name\" : \"Joe\", \"age\" : 42, \"eye_color\" : \"brown\" }, " +
                    "{ \"name\" : \"Paul\", \"age\" : 28, \"eye_color\" : \"brown\" }, " +
                    "{ \"name\" : \"Mack\", \"age\" : 55, \"eye_color\" : \"blue\" } ]",
            "[ { \"name\" : [\"Joe\", \"Paul\", \"Mack\"], \"age\" : \"@int\", \"eye_color\" : [\"brown\", \"blue\"] } ]", true);

    // Larger JSON file tests

    // Twitter API results
    print("[{\"created_at\":\"Sat Apr 09 04:33:37 +0000 2016\",\"id\":718658099918209000,\"id_str\":\"718658099918209024\",\"text\":\"RT @dcurtis: A common thought I have when reading about Elon Musk: how many Elon Musks are out there who lack the initial resources to be E…\",\"entities\":{\"hashtags\":[],\"symbols\":[],\"user_mentions\":[{\"screen_name\":\"dcurtis\",\"name\":\"dustin curtis\",\"id\":9395832,\"id_str\":\"9395832\",\"indices\":[3,11]}],\"urls\":[]},\"truncated\":false,\"source\":\"<a>Tweetbot for iΟS</a>\",\"in_reply_to_status_id\":null,\"in_reply_to_status_id_str\":null,\"in_reply_to_user_id\":null,\"in_reply_to_user_id_str\":null,\"in_reply_to_screen_name\":null,\"user\":{\"id\":16570300,\"id_str\":\"16570300\",\"name\":\"Sachin Patel\",\"screen_name\":\"gizmosachin\",\"location\":\"Santa Cruz, CA\",\"description\":\"I code, explore, and take photos. Formerly @storehousehq. Student @UCSC.\",\"url\":\"http://t.co/57cZjG7xRa\",\"entities\":{\"url\":{\"urls\":[{\"url\":\"http://t.co/57cZjG7xRa\",\"expanded_url\":\"http://gizmosachin.com\",\"display_url\":\"gizmosachin.com\",\"indices\":[0,22]}]},\"description\":{\"urls\":[]}},\"protected\":false,\"followers_count\":707,\"friends_count\":224,\"listed_count\":25,\"created_at\":\"Fri Oct 03 00:58:40 +0000 2008\",\"favourites_count\":65433,\"utc_offset\":-25200,\"time_zone\":\"Pacific Time (US & Canada)\",\"geo_enabled\":true,\"verified\":false,\"statuses_count\":12985,\"lang\":\"en\",\"contributors_enabled\":false,\"is_translator\":false,\"is_translation_enabled\":false,\"profile_background_color\":\"F0F0F0\",\"profile_background_image_url\":\"http://abs.twimg.com/images/themes/theme2/bg.gif\",\"profile_background_image_url_https\":\"https://abs.twimg.com/images/themes/theme2/bg.gif\",\"profile_background_tile\":false,\"profile_image_url\":\"http://pbs.twimg.com/profile_images/499786603657580544/pvuPNxy8_normal.jpeg\",\"profile_image_url_https\":\"https://pbs.twimg.com/profile_images/499786603657580544/pvuPNxy8_normal.jpeg\",\"profile_banner_url\":\"https://pbs.twimg.com/profile_banners/16570300/1427842097\",\"profile_link_color\":\"3B94D9\",\"profile_sidebar_border_color\":\"C0DEED\",\"profile_sidebar_fill_color\":\"DDEEF6\",\"profile_text_color\":\"333333\",\"profile_use_background_image\":false,\"has_extended_profile\":true,\"default_profile\":false,\"default_profile_image\":false,\"following\":false,\"follow_request_sent\":false,\"notifications\":false},\"geo\":null,\"coordinates\":null,\"place\":null,\"contributors\":null,\"retweeted_status\":{\"created_at\":\"Sat Apr 09 03:46:10 +0000 2016\",\"id\":718646158575284200,\"id_str\":\"718646158575284224\",\"text\":\"A common thought I have when reading about Elon Musk: how many Elon Musks are out there who lack the initial resources to be Elon Musk?\",\"entities\":{\"hashtags\":[],\"symbols\":[],\"user_mentions\":[],\"urls\":[]},\"truncated\":false,\"source\":\"<a>Twitter for Mac</a>\",\"in_reply_to_status_id\":null,\"in_reply_to_status_id_str\":null,\"in_reply_to_user_id\":null,\"in_reply_to_user_id_str\":null,\"in_reply_to_screen_name\":null,\"user\":{\"id\":9395832,\"id_str\":\"9395832\",\"name\":\"dustin curtis\",\"screen_name\":\"dcurtis\",\"location\":\"\",\"description\":\"Undefined. Founder of https://t.co/puzfcfZwHn\",\"url\":\"https://t.co/nMFtl9nnic\",\"entities\":{\"url\":{\"urls\":[{\"url\":\"https://t.co/nMFtl9nnic\",\"expanded_url\":\"http://dustincurtis.com\",\"display_url\":\"dustincurtis.com\",\"indices\":[0,23]}]},\"description\":{\"urls\":[{\"url\":\"https://t.co/puzfcfZwHn\",\"expanded_url\":\"http://Svbtle.com\",\"display_url\":\"Svbtle.com\",\"indices\":[22,45]}]}},\"protected\":false,\"followers_count\":50062,\"friends_count\":633,\"listed_count\":3649,\"created_at\":\"Fri Oct 12 04:01:41 +0000 2007\",\"favourites_count\":4985,\"utc_offset\":-25200,\"time_zone\":\"Pacific Time (US & Canada)\",\"geo_enabled\":true,\"verified\":false,\"statuses_count\":11504,\"lang\":\"en\",\"contributors_enabled\":false,\"is_translator\":false,\"is_translation_enabled\":false,\"profile_background_color\":\"000000\",\"profile_background_image_url\":\"http://pbs.twimg.com/profile_background_images/104868442/lion.png\",\"profile_background_image_url_https\":\"https://pbs.twimg.com/profile_background_images/104868442/lion.png\",\"profile_background_tile\":false,\"profile_image_url\":\"http://pbs.twimg.com/profile_images/651080210562056192/xvAgGC-H_normal.png\",\"profile_image_url_https\":\"https://pbs.twimg.com/profile_images/651080210562056192/xvAgGC-H_normal.png\",\"profile_banner_url\":\"https://pbs.twimg.com/profile_banners/9395832/1444064618\",\"profile_link_color\":\"000000\",\"profile_sidebar_border_color\":\"000000\",\"profile_sidebar_fill_color\":\"FFFFFF\",\"profile_text_color\":\"000000\",\"profile_use_background_image\":false,\"has_extended_profile\":false,\"default_profile\":false,\"default_profile_image\":false,\"following\":true,\"follow_request_sent\":false,\"notifications\":false},\"geo\":null,\"coordinates\":null,\"place\":null,\"contributors\":null,\"is_quote_status\":false,\"retweet_count\":239,\"favorite_count\":433,\"favorited\":true,\"retweeted\":true,\"lang\":\"en\"},\"is_quote_status\":false,\"retweet_count\":239,\"favorite_count\":0,\"favorited\":true,\"retweeted\":true,\"lang\":\"en\"},{\"created_at\":\"Sat Apr 09 03:17:22 +0000 2016\",\"id\":718638910872559600,\"id_str\":\"718638910872559616\",\"text\":\"RT @Khanoisseur: FBI: Give us the keys, they'll be safe with us\\n\\nApple: No they won't \\n\\nFBI: Just do it what could go wrong\\n\\nApple: \uD83D\uDC47 https…\",\"entities\":{\"hashtags\":[],\"symbols\":[],\"user_mentions\":[{\"screen_name\":\"Khanoisseur\",\"name\":\"Adam Khan\",\"id\":373564351,\"id_str\":\"373564351\",\"indices\":[3,15]}],\"urls\":[],\"media\":[{\"id\":718496387738968000,\"id_str\":\"718496387738968068\",\"indices\":[139,140],\"media_url\":\"http://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"media_url_https\":\"https://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"url\":\"https://t.co/YivbUq5hjI\",\"display_url\":\"pic.twitter.com/YivbUq5hjI\",\"expanded_url\":\"http://twitter.com/Khanoisseur/status/718496391035662338/photo/1\",\"type\":\"photo\",\"sizes\":{\"thumb\":{\"w\":150,\"h\":150,\"resize\":\"crop\"},\"large\":{\"w\":750,\"h\":673,\"resize\":\"fit\"},\"small\":{\"w\":340,\"h\":305,\"resize\":\"fit\"},\"medium\":{\"w\":600,\"h\":538,\"resize\":\"fit\"}},\"source_status_id\":718496391035662300,\"source_status_id_str\":\"718496391035662338\",\"source_user_id\":373564351,\"source_user_id_str\":\"373564351\"}]},\"extended_entities\":{\"media\":[{\"id\":718496387738968000,\"id_str\":\"718496387738968068\",\"indices\":[139,140],\"media_url\":\"http://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"media_url_https\":\"https://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"url\":\"https://t.co/YivbUq5hjI\",\"display_url\":\"pic.twitter.com/YivbUq5hjI\",\"expanded_url\":\"http://twitter.com/Khanoisseur/status/718496391035662338/photo/1\",\"type\":\"photo\",\"sizes\":{\"thumb\":{\"w\":150,\"h\":150,\"resize\":\"crop\"},\"large\":{\"w\":750,\"h\":673,\"resize\":\"fit\"},\"small\":{\"w\":340,\"h\":305,\"resize\":\"fit\"},\"medium\":{\"w\":600,\"h\":538,\"resize\":\"fit\"}},\"source_status_id\":718496391035662300,\"source_status_id_str\":\"718496391035662338\",\"source_user_id\":373564351,\"source_user_id_str\":\"373564351\"}]},\"truncated\":false,\"source\":\"<a>Tweetbot for iΟS</a>\",\"in_reply_to_status_id\":null,\"in_reply_to_status_id_str\":null,\"in_reply_to_user_id\":null,\"in_reply_to_user_id_str\":null,\"in_reply_to_screen_name\":null,\"user\":{\"id\":16570300,\"id_str\":\"16570300\",\"name\":\"Sachin Patel\",\"screen_name\":\"gizmosachin\",\"location\":\"Santa Cruz, CA\",\"description\":\"I code, explore, and take photos. Formerly @storehousehq. Student @UCSC.\",\"url\":\"http://t.co/57cZjG7xRa\",\"entities\":{\"url\":{\"urls\":[{\"url\":\"http://t.co/57cZjG7xRa\",\"expanded_url\":\"http://gizmosachin.com\",\"display_url\":\"gizmosachin.com\",\"indices\":[0,22]}]},\"description\":{\"urls\":[]}},\"protected\":false,\"followers_count\":707,\"friends_count\":224,\"listed_count\":25,\"created_at\":\"Fri Oct 03 00:58:40 +0000 2008\",\"favourites_count\":65433,\"utc_offset\":-25200,\"time_zone\":\"Pacific Time (US & Canada)\",\"geo_enabled\":true,\"verified\":false,\"statuses_count\":12985,\"lang\":\"en\",\"contributors_enabled\":false,\"is_translator\":false,\"is_translation_enabled\":false,\"profile_background_color\":\"F0F0F0\",\"profile_background_image_url\":\"http://abs.twimg.com/images/themes/theme2/bg.gif\",\"profile_background_image_url_https\":\"https://abs.twimg.com/images/themes/theme2/bg.gif\",\"profile_background_tile\":false,\"profile_image_url\":\"http://pbs.twimg.com/profile_images/499786603657580544/pvuPNxy8_normal.jpeg\",\"profile_image_url_https\":\"https://pbs.twimg.com/profile_images/499786603657580544/pvuPNxy8_normal.jpeg\",\"profile_banner_url\":\"https://pbs.twimg.com/profile_banners/16570300/1427842097\",\"profile_link_color\":\"3B94D9\",\"profile_sidebar_border_color\":\"C0DEED\",\"profile_sidebar_fill_color\":\"DDEEF6\",\"profile_text_color\":\"333333\",\"profile_use_background_image\":false,\"has_extended_profile\":true,\"default_profile\":false,\"default_profile_image\":false,\"following\":false,\"follow_request_sent\":false,\"notifications\":false},\"geo\":null,\"coordinates\":null,\"place\":null,\"contributors\":null,\"retweeted_status\":{\"created_at\":\"Fri Apr 08 17:51:03 +0000 2016\",\"id\":718496391035662300,\"id_str\":\"718496391035662338\",\"text\":\"FBI: Give us the keys, they'll be safe with us\\n\\nApple: No they won't \\n\\nFBI: Just do it what could go wrong\\n\\nApple: \uD83D\uDC47 https://t.co/YivbUq5hjI\",\"entities\":{\"hashtags\":[],\"symbols\":[],\"user_mentions\":[],\"urls\":[],\"media\":[{\"id\":718496387738968000,\"id_str\":\"718496387738968068\",\"indices\":[117,140],\"media_url\":\"http://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"media_url_https\":\"https://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"url\":\"https://t.co/YivbUq5hjI\",\"display_url\":\"pic.twitter.com/YivbUq5hjI\",\"expanded_url\":\"http://twitter.com/Khanoisseur/status/718496391035662338/photo/1\",\"type\":\"photo\",\"sizes\":{\"thumb\":{\"w\":150,\"h\":150,\"resize\":\"crop\"},\"large\":{\"w\":750,\"h\":673,\"resize\":\"fit\"},\"small\":{\"w\":340,\"h\":305,\"resize\":\"fit\"},\"medium\":{\"w\":600,\"h\":538,\"resize\":\"fit\"}}}]},\"extended_entities\":{\"media\":[{\"id\":718496387738968000,\"id_str\":\"718496387738968068\",\"indices\":[117,140],\"media_url\":\"http://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"media_url_https\":\"https://pbs.twimg.com/media/CficqGuVIAQGZed.jpg\",\"url\":\"https://t.co/YivbUq5hjI\",\"display_url\":\"pic.twitter.com/YivbUq5hjI\",\"expanded_url\":\"http://twitter.com/Khanoisseur/status/718496391035662338/photo/1\",\"type\":\"photo\",\"sizes\":{\"thumb\":{\"w\":150,\"h\":150,\"resize\":\"crop\"},\"large\":{\"w\":750,\"h\":673,\"resize\":\"fit\"},\"small\":{\"w\":340,\"h\":305,\"resize\":\"fit\"},\"medium\":{\"w\":600,\"h\":538,\"resize\":\"fit\"}}}]},\"truncated\":false,\"source\":\"<a>Twitter for iPhone</a>\",\"in_reply_to_status_id\":702657334221234200,\"in_reply_to_status_id_str\":\"702657334221234176\",\"in_reply_to_user_id\":373564351,\"in_reply_to_user_id_str\":\"373564351\",\"in_reply_to_screen_name\":\"Khanoisseur\",\"user\":{\"id\":373564351,\"id_str\":\"373564351\",\"name\":\"Adam Khan\",\"screen_name\":\"Khanoisseur\",\"location\":\"NYC SF DC\",\"description\":\"Majordomo. Author @HACKtheBIRD Startups, Partnerships, Investments ~ Head of Digital/Talent @Loreal ~ Stuff @TeslaMotors @Chanel @Starbucks @Google @Uber @Nike\",\"url\":\"https://t.co/OV23IDhu66\",\"entities\":{\"url\":{\"urls\":[{\"url\":\"https://t.co/OV23IDhu66\",\"expanded_url\":\"http://www.amazon.com/gp/aw/d/B00XFMQHVQ?ref=aw_sitb_digital-text\",\"display_url\":\"amazon.com/gp/aw/d/B00XFM…\",\"indices\":[0,23]}]},\"description\":{\"urls\":[]}},\"protected\":false,\"followers_count\":34254,\"friends_count\":9257,\"listed_count\":976,\"created_at\":\"Wed Sep 14 20:14:50 +0000 2011\",\"favourites_count\":600647,\"utc_offset\":-18000,\"time_zone\":\"Quito\",\"geo_enabled\":true,\"verified\":false,\"statuses_count\":6439,\"lang\":\"en\",\"contributors_enabled\":false,\"is_translator\":false,\"is_translation_enabled\":false,\"profile_background_color\":\"DBE9ED\",\"profile_background_image_url\":\"http://pbs.twimg.com/profile_background_images/682849199/38bbb6faebf3f845471f2d1c153d474f.jpeg\",\"profile_background_image_url_https\":\"https://pbs.twimg.com/profile_background_images/682849199/38bbb6faebf3f845471f2d1c153d474f.jpeg\",\"profile_background_tile\":false,\"profile_image_url\":\"http://pbs.twimg.com/profile_images/706899140672761857/v9p7w5Mb_normal.jpg\",\"profile_image_url_https\":\"https://pbs.twimg.com/profile_images/706899140672761857/v9p7w5Mb_normal.jpg\",\"profile_banner_url\":\"https://pbs.twimg.com/profile_banners/373564351/1445384407\",\"profile_link_color\":\"DD2E44\",\"profile_sidebar_border_color\":\"FFFFFF\",\"profile_sidebar_fill_color\":\"E6F6F9\",\"profile_text_color\":\"333333\",\"profile_use_background_image\":false,\"has_extended_profile\":false,\"default_profile\":false,\"default_profile_image\":false,\"following\":false,\"follow_request_sent\":false,\"notifications\":false},\"geo\":null,\"coordinates\":null,\"place\":null,\"contributors\":null,\"is_quote_status\":false,\"retweet_count\":2190,\"favorite_count\":1370,\"favorited\":true,\"retweeted\":true,\"possibly_sensitive\":false,\"lang\":\"en\"},\"is_quote_status\":false,\"retweet_count\":2190,\"favorite_count\":0,\"favorited\":true,\"retweeted\":true,\"possibly_sensitive\":false,\"lang\":\"en\"}]",
            false);

    // Foursquare API results
    print("{\"meta\":{\"code\":200,\"requestId\":\"5706b191498edbac4f50b79d\"},\"notifications\":[{\"type\":\"notificationTray\",\"item\":{\"unreadCount\":1}}],\"response\":{\"venues\":[{\"id\":\"430d0a00f964a5203e271fe3\",\"name\":\"Brooklyn Bridge Park\",\"contact\":{\"phone\":\"2128033822\",\"formattedPhone\":\"(212) 803-3822\",\"twitter\":\"nycparks\",\"facebook\":\"104475634308\",\"facebookUsername\":\"BartowPell\",\"facebookName\":\"Bartow-Pell Mansion Museum\"},\"location\":{\"address\":\"Main St\",\"crossStreet\":\"Plymouth St\",\"lat\":40.70227697066692,\"lng\":-73.9965033531189,\"distance\":389,\"postalCode\":\"11201\",\"mayNotNeedAddress\":false,\"cc\":\"US\",\"city\":\"Brooklyn\",\"state\":\"NY\",\"country\":\"United States\",\"formattedAddress\":[\"Main St (Plymouth St)\",\"Brooklyn, NY 11201\"]},\"categories\":[{\"id\":\"4bf58dd8d48988d163941735\",\"name\":\"Park\",\"pluralName\":\"Parks\",\"shortName\":\"Park\",\"icon\":{\"prefix\":\"https:\\/\\/ss3.4sqi.net\\/img\\/categories_v2\\/parks_outdoors\\/park_\",\"suffix\":\".png\"},\"primary\":true}],\"verified\":true,\"stats\":{\"checkinsCount\":40392,\"usersCount\":24513,\"tipCount\":293},\"url\":\"http:\\/\\/nyc.gov\\/parks\",\"beenHere\":{\"count\":1,\"marked\":true},\"specials\":{\"count\":0,\"items\":[]},\"listed\":{\"groups\":[{\"type\":\"created\",\"count\":1,\"items\":[]}]},\"hereNow\":{\"count\":1,\"summary\":\"One other person is here\",\"groups\":[{\"type\":\"others\",\"name\":\"Other people here\",\"count\":1,\"items\":[]}]},\"referralId\":\"v-1460056465\",\"venueChains\":[{\"id\":\"556df7e1a7c82e6b724d822e\"}]},{\"id\":\"4c3c76bd7f49c9b65de16be3\",\"name\":\"Michael\\u2019s Food Cart\",\"contact\":{\"phone\":\"7189029951\",\"formattedPhone\":\"(718) 902-9951\"},\"location\":{\"address\":\"South Street\",\"crossStreet\":\"Corner of South St and Wall St\",\"lat\":40.70013381479425,\"lng\":-73.99983798076666,\"distance\":20,\"mayNotNeedAddress\":false,\"cc\":\"US\",\"city\":\"New York\",\"state\":\"NY\",\"country\":\"United States\",\"formattedAddress\":[\"South Street (Corner of South St and Wall St)\",\"New York, NY\"]},\"categories\":[{\"id\":\"4bf58dd8d48988d1cb941735\",\"name\":\"Food Truck\",\"pluralName\":\"Food Trucks\",\"shortName\":\"Food Truck\",\"icon\":{\"prefix\":\"https:\\/\\/ss3.4sqi.net\\/img\\/categories_v2\\/food\\/streetfood_\",\"suffix\":\".png\"},\"primary\":true}],\"verified\":false,\"stats\":{\"checkinsCount\":51,\"usersCount\":40,\"tipCount\":1},\"allowMenuUrlEdit\":true,\"specials\":{\"count\":0,\"items\":[]},\"hereNow\":{\"count\":0,\"summary\":\"Nobody here\",\"groups\":[]},\"referralId\":\"v-1460056465\",\"venueChains\":[]}],\"confident\":false}}",
            false);
  }

  private static void test(String json, String expectedJschema, Boolean preferEnums) throws Exception {
    ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");
    engine.eval(new FileReader("src/main/resources/js/json_to_jschema.js"));
    Invocable invocable = (Invocable) engine;
    Boolean result = (Boolean)invocable.invokeFunction("testEquals", json, expectedJschema, preferEnums);
    if (result == false) {
      String formattedJSON = (String)invocable.invokeFunction("formatJSONString", json);
      String formattedExpected = (String)invocable.invokeFunction("formatJSONString", expectedJschema, preferEnums);
      String actual = (String)invocable.invokeFunction("jsonToJSchemaString", json, preferEnums);
      System.out.println("Test failed: " + formattedJSON + "\n\tExpected: " + formattedExpected + "\n\tActual: " + actual + "\n");
    }
  }

  private static void print(String json, Boolean preferEnums) throws Exception {
    ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");
    engine.eval(new FileReader("src/main/resources/js/json_to_jschema.js"));
    Invocable invocable = (Invocable) engine;

    String formattedJSON = (String)invocable.invokeFunction("formatJSONString", json);
    String result = (String)invocable.invokeFunction("jsonToJSchemaString", json, preferEnums);
    System.out.println("JSON input: " + formattedJSON + "\nJSchema result: " + result + "\n");
  }
}
